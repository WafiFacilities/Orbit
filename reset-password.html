<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Reset Password</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<style>
body{
font-family:'72 Condensed',Arial;
display:flex;
justify-content:center;
align-items:center;
height:100vh;
background:#f4f6f9;
}

.box{
background:white;
padding:30px;
border-radius:8px;
box-shadow:0 2px 10px rgba(0,0,0,0.15);
width:320px;
text-align:center;
}

input{
width:100%;
padding:8px;
margin-bottom:12px;
border:1px solid #ccc;
border-radius:4px;
}

button{
width:100%;
padding:10px;
background:#76B531;
color:white;
border:none;
border-radius:4px;
}
</style>
</head>

<body>

<div class="box">
<h3>Set New Password</h3>

<input type="password" id="newPassword" placeholder="New password">
<button onclick="updatePassword()">Update Password</button>

<p id="msg"></p>
</div>

<script>

const supabase = window.supabase.createClient(
  "https://kqhbvmqxrwwspopwckah.supabase.co",
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtxaGJ2bXF4cnd3c3BvcHdja2FoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA3MTYyOTAsImV4cCI6MjA4NjI5MjI5MH0.uKfFMK7GBtCR8P5n7hsJlN72-w5h0oyOhuaySphmns8"
);

async function resetPassword(){

  clearMsg();

  const {error} = await supabase.auth.resetPasswordForEmail(
    forgotEmail.value,
    {
      redirectTo: window.location.origin + "/facilities-orbit/reset-password.html"
    }
  );

  if(error) return errorMessage.textContent=error.message;

  successMessage.textContent="Password reset email sent.";
}


</script>

</body>
</html>
